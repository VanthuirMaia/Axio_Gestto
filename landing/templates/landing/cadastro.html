{% extends 'landing/base.html' %}

{% block title %}Cadastro - Gestto{% endblock %}

{% block content %}
<style>
    .cadastro-section {
        padding: 4rem 0;
        background: #f9fafb;
        min-height: 80vh;
    }

    .cadastro-container {
        max-width: 600px;
        margin: 0 auto;
        background: white;
        padding: 3rem;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .cadastro-container h1 {
        text-align: center;
        margin-bottom: 0.5rem;
    }

    .cadastro-container p {
        text-align: center;
        color: #666;
        margin-bottom: 2rem;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #333;
    }

    .form-group input,
    .form-group select {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #e5e7eb;
        border-radius: 8px;
        font-size: 1rem;
        transition: border-color 0.3s;
    }

    .form-group input:focus,
    .form-group select:focus {
        outline: none;
        border-color: #667eea;
    }

    .form-group small {
        display: block;
        margin-top: 0.25rem;
        color: #666;
        font-size: 0.875rem;
    }

    .btn-submit {
        width: 100%;
        background: #667eea;
        color: white;
        padding: 1rem;
        border: none;
        border-radius: 8px;
        font-size: 1.125rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.3s;
    }

    .btn-submit:hover {
        background: #5568d3;
    }

    .already-have-account {
        text-align: center;
        margin-top: 1.5rem;
        color: #666;
    }

    .already-have-account a {
        color: #667eea;
        text-decoration: none;
        font-weight: 600;
    }

    .payment-info {
        background: #f3f4f6;
        border: 2px solid #667eea;
        border-radius: 8px;
        padding: 1rem;
        text-align: center;
        margin-bottom: 1.5rem;
    }

    .payment-info strong {
        color: #667eea;
        font-size: 1.125rem;
    }
</style>

<section class="cadastro-section">
    <div class="cadastro-container">
        <h1>Criar Conta Gr√°tis</h1>
        <p>Teste gr√°tis sem compromisso. Sem cart√£o de cr√©dito.</p>

        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label for="nome_empresa">Nome da Empresa *</label>
                <input type="text" id="nome_empresa" name="nome_empresa" placeholder="Ex: Barbearia do Jo√£o" required>
            </div>

            <div class="form-group">
                <label for="email_admin">Seu Email *</label>
                <input type="email" id="email_admin" name="email_admin" placeholder="seu@email.com" required>
                <small>Voc√™ receber√° as credenciais de acesso neste email</small>
            </div>

            <div class="form-group">
                <label for="telefone">Telefone (WhatsApp) *</label>
                <input type="tel" id="telefone" name="telefone" placeholder="(11) 99999-9999" required>
                <small style="color: #d97706; font-weight: 500; display: block; margin-top: 0.5rem; padding: 0.5rem; background: #fff3cd; border-radius: 4px;">
                    ‚ö†Ô∏è <strong>Importante:</strong> Use um n√∫mero exclusivo para o neg√≥cio. Evite n√∫meros pessoais ou compartilhados para garantir o melhor funcionamento do WhatsApp Bot.
                </small>
            </div>

            <div class="form-group">
                <label for="cnpj">CPF ou CNPJ *</label>
                <input type="text" id="cnpj" name="cnpj" placeholder="000.000.000-00 ou 00.000.000/0000-00" required>
                <small>Informe seu CPF (pessoa f√≠sica) ou CNPJ (pessoa jur√≠dica)</small>
            </div>

            <div class="form-group">
                <label for="plano">Plano *</label>
                <select id="plano" name="plano" required>
                    {% for plano_obj in planos %}
                    <option value="{{ plano_obj.nome }}" {% if request.GET.plano == plano_obj.nome %}selected{% endif %}>
                        {{ plano_obj.get_nome_display }} - R$ {{ plano_obj.preco_mensal|floatformat:0 }}/m√™s ({{ plano_obj.max_profissionais }} prof)
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div class="payment-info">
                <strong>üí≥ Pagamento Seguro via Stripe</strong>
                <p style="margin: 0.5rem 0 0 0; color: #666;">Cart√£o de cr√©dito, PIX ou Boleto</p>
                <input type="hidden" name="gateway" value="stripe">
            </div>

            <div style="background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 8px; padding: 1rem; margin: 1.5rem 0;">
                <p style="margin: 0; color: #0369a1; font-size: 0.9rem;">
                    ‚öñÔ∏è <strong>7 Dias Gr√°tis:</strong> Teste o sistema sem compromisso. Cancele a qualquer momento dentro dos 7 dias de trial e n√£o ser√° cobrado nada.
                    Se n√£o cancelar, a cobran√ßa ser√° realizada ap√≥s o t√©rmino do per√≠odo de teste.
                    <a href="{% url 'landing:politica_cancelamento' %}" target="_blank" style="color: #0284c7; text-decoration: underline;">Saiba mais</a>
                </p>
            </div>

            <div style="margin: 1rem 0;">
                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                    <input type="checkbox" required style="width: auto;">
                    <span style="font-size: 0.9rem; color: #555;">
                        Li e concordo com os
                        <a href="{% url 'landing:termos_uso' %}" target="_blank" style="color: #667eea;">Termos de Uso</a>
                        e a
                        <a href="{% url 'landing:politica_cancelamento' %}" target="_blank" style="color: #667eea;">Pol√≠tica de Cancelamento</a>
                    </span>
                </label>
            </div>

            <button type="submit" class="btn-submit">Iniciar Trial Gr√°tis de 7 Dias</button>

            <div class="already-have-account">
                J√° tem uma conta? <a href="/app/login/">Fazer Login</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
